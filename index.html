<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Card v11.0 - Enterprise Branding</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { font-family: 'Inter', sans-serif; -webkit-font-smoothing: antialiased; }
        .card-vertical { width: 450px; min-height: 900px; background: white; border-radius: 2.5rem; overflow: hidden; }
        
        .info-row { 
            display: flex; align-items: center; padding: 10px 14px; 
            background: #f8fafc; border-radius: 12px; border: 1px solid #e2e8f0; 
            margin-bottom: 6px; width: 100%; min-width: 0;
        }
        .info-label { 
            font-size: 11px; font-weight: 700; color: #1e293b; 
            margin-left: 10px; word-break: break-word; line-height: 1.2;
        }
        .icon-box { width: 24px; flex-shrink: 0; display: flex; justify-content: center; }
        
        /* Pencegahan teks input di editor agar tidak aneh */
        input::placeholder { color: #cbd5e1; font-weight: normal; }
    </style>
</head>
<body class="bg-[#0f172a] min-h-screen p-4 flex justify-center items-start">

    <div class="max-w-7xl w-full grid grid-cols-1 lg:grid-cols-12 gap-8">
        
        <div class="lg:col-span-4 bg-white p-6 rounded-[2rem] shadow-2xl self-start">
            <h2 class="text-xl font-black mb-4 border-b pb-2 text-slate-800">Branding Editor v11</h2>
            <div class="space-y-4 max-h-[80vh] overflow-y-auto pr-2">
                
                <div class="grid grid-cols-2 gap-2">
                    <div class="space-y-1">
                        <label class="text-[10px] font-bold text-slate-400 uppercase">Warna Tema</label>
                        <input type="color" id="inColor" oninput="updateCard()" value="#1e293b" class="w-full h-10 border rounded-xl cursor-pointer">
                    </div>
                    <div class="space-y-1">
                        <label class="text-[10px] font-bold text-slate-400 uppercase">Logo Perusahaan</label>
                        <input type="file" id="uploadLogo" accept="image/*" onchange="previewLogo()" class="text-[10px] w-full border p-1 rounded-lg">
                    </div>
                </div>

                <div class="bg-slate-50 p-3 rounded-xl border-2 border-dashed">
                    <label class="text-[10px] font-bold text-slate-500 uppercase">Foto Profil Anda</label>
                    <input type="file" id="uploadPhoto" accept="image/*" onchange="previewPhoto()" class="text-[10px] w-full mt-1">
                </div>
                
                <div class="space-y-2">
                    <input type="text" id="inCorp" oninput="updateCard()" placeholder="Nama Perusahaan" class="w-full p-2.5 border rounded-lg text-xs">
                    <input type="text" id="inCorpDetail" oninput="updateCard()" placeholder="Alamat Perusahaan" class="w-full p-2.5 border rounded-lg text-xs">
                    <div class="grid grid-cols-2 gap-2">
                        <input type="text" id="inNama" oninput="updateCard()" placeholder="Nama Anda" class="p-2.5 border rounded-lg text-xs font-bold">
                        <input type="text" id="inJabatan" oninput="updateCard()" placeholder="Jabatan" class="p-2.5 border rounded-lg text-xs">
                    </div>
                </div>

                <div class="grid grid-cols-2 gap-2">
                    <input type="number" id="inWA1" oninput="updateCard()" placeholder="WA 1 (62...)" class="p-2.5 border rounded-lg text-xs">
                    <input type="number" id="inWA2" oninput="updateCard()" placeholder="WA 2 (62...)" class="p-2.5 border rounded-lg text-xs">
                </div>

                <input type="email" id="inEmail" oninput="updateCard()" placeholder="Email" class="w-full p-2.5 border rounded-lg text-xs">
                <input type="text" id="inWeb" oninput="updateCard()" placeholder="Website (www.situs.com)" class="w-full p-2.5 border rounded-lg text-xs">
                
                <div class="grid grid-cols-2 gap-2 border-t pt-2">
                    <input type="text" id="inIG" oninput="updateCard()" placeholder="IG Username" class="p-2.5 border rounded-lg text-xs">
                    <input type="text" id="inLI" oninput="updateCard()" placeholder="LinkedIn ID" class="p-2.5 border rounded-lg text-xs">
                    <input type="text" id="inFB" oninput="updateCard()" placeholder="Facebook ID" class="p-2.5 border rounded-lg text-xs">
                    <input type="text" id="inTT" oninput="updateCard()" placeholder="TikTok ID" class="p-2.5 border rounded-lg text-xs">
                </div>
            </div>
        </div>

        <div class="lg:col-span-8 flex flex-col items-center">
            <div id="card-area" class="card-vertical shadow-2xl flex flex-col">
                
                <div id="headerBg" class="p-8 pb-28 flex transition-all duration-500 text-white relative">
                    <div class="flex items-start w-full gap-4">
                        <div class="w-16 h-16 bg-white/20 rounded-xl overflow-hidden flex-shrink-0 flex items-center justify-center p-1 backdrop-blur-sm">
                            <img id="dispLogo" src="https://cdn-icons-png.flaticon.com/512/1022/1022315.png" class="max-w-full max-h-full object-contain">
                        </div>
                        <div class="flex flex-col text-left">
                            <h3 id="dispCorp" class="text-lg font-extrabold tracking-wider leading-tight uppercase">PT. NAMA PERUSAHAAN</h3>
                            <p id="dispCorpDetail" class="text-[9px] mt-1 opacity-80 leading-relaxed font-medium">Alamat Lengkap Perusahaan</p>
                        </div>
                    </div>
                </div>

                <div id="bodyLayout" class="flex flex-col flex-grow p-10 items-center bg-white relative">
                    <div class="relative -mt-24 mb-6">
                        <img id="dispPhoto" src="https://ui-avatars.com/api/?name=User&background=random" class="w-36 h-36 rounded-full border-[8px] border-white shadow-2xl object-cover bg-white">
                    </div>

                    <div class="text-center mb-8">
                        <h2 id="dispNama" class="text-3xl font-black text-slate-800 tracking-tight uppercase leading-none">FULL NAME</h2>
                        <p id="dispJabatan" class="font-bold text-[11px] tracking-[0.4em] uppercase mt-3 text-slate-400">POSITION TITLE</p>
                    </div>

                    <div class="w-full space-y-2 mb-6">
                        <div class="grid grid-cols-2 gap-3">
                            <div class="info-row"><div class="icon-box"><i class="fab fa-whatsapp text-green-500 text-lg"></i></div><span id="dispWA1" class="info-label">-</span></div>
                            <div class="info-row"><div class="icon-box"><i class="fab fa-whatsapp text-emerald-500 text-lg"></i></div><span id="dispWA2" class="info-label">-</span></div>
                        </div>
                        <div class="info-row"><div class="icon-box"><i class="far fa-envelope text-blue-500 text-lg"></i></div><span id="dispEmail" class="info-label">-</span></div>
                        <div class="info-row"><div class="icon-box"><i class="fas fa-globe text-indigo-500 text-lg"></i></div><span id="dispWeb" class="info-label">-</span></div>
                    </div>

                    <div class="w-full grid grid-cols-2 gap-3 mb-8">
                        <div class="info-row"><div class="icon-box"><i class="fab fa-instagram text-pink-500 text-lg"></i></div><span id="dispIG" class="info-label">-</span></div>
                        <div class="info-row"><div class="icon-box"><i class="fab fa-linkedin text-blue-700 text-lg"></i></div><span id="dispLI" class="info-label">-</span></div>
                        <div class="info-row"><div class="icon-box"><i class="fab fa-facebook text-blue-600 text-lg"></i></div><span id="dispFB" class="info-label">-</span></div>
                        <div class="info-row"><div class="icon-box"><i class="fab fa-tiktok text-black text-lg"></i></div><span id="dispTT" class="info-label">-</span></div>
                    </div>

                    <div class="mt-auto flex flex-col items-center">
                        <div id="qrcode" class="p-2 border-2 border-slate-50 rounded-2xl bg-white shadow-sm"></div>
                    </div>
                </div>
            </div>

            <div class="mt-10 flex flex-wrap gap-4 justify-center pb-20">
                <button onclick="saveCardHD()" class="bg-indigo-600 text-white px-10 py-4 rounded-2xl font-black text-xs tracking-widest shadow-2xl hover:bg-black transition-all uppercase">Download PNG HD</button>
                <button onclick="downloadVCard()" class="bg-slate-800 text-white px-10 py-4 rounded-2xl font-black text-xs tracking-widest shadow-2xl hover:bg-black transition-all uppercase">Save Contact</button>
                <button onclick="shareWhatsApp()" class="bg-green-500 text-white px-10 py-4 rounded-2xl font-black text-xs tracking-widest shadow-2xl hover:bg-green-600 transition-all uppercase">Share WA</button>
            </div>
        </div>
    </div>

    <script>
        const inputs = ['inCorp','inCorpDetail','inNama','inJabatan','inWA1','inWA2','inEmail','inWeb','inIG','inLI','inFB','inTT','inColor'];

        window.onload = () => {
            inputs.forEach(id => {
                const val = localStorage.getItem(id);
                if (val) document.getElementById(id).value = val;
            });
            ['profileImg', 'logoImg'].forEach(key => {
                const img = localStorage.getItem(key);
                if(img) document.getElementById(key === 'profileImg' ? 'dispPhoto' : 'dispLogo').src = img;
            });
            updateCard();
        };

        function previewPhoto() { handleImage('uploadPhoto', 'dispPhoto', 'profileImg'); }
        function previewLogo() { handleImage('uploadLogo', 'dispLogo', 'logoImg'); }

        function handleImage(inputId, displayId, storageKey) {
            const file = document.getElementById(inputId).files[0];
            const reader = new FileReader();
            reader.onloadend = () => {
                document.getElementById(displayId).src = reader.result;
                localStorage.setItem(storageKey, reader.result);
            }
            if (file) reader.readAsDataURL(file);
        }

        function updateCard() {
            const d = {};
            inputs.forEach(id => { d[id] = document.getElementById(id).value; localStorage.setItem(id, d[id]); });

            document.getElementById('dispCorp').innerText = d.inCorp || "PT. PERUSAHAAN ANDA";
            document.getElementById('dispCorpDetail').innerText = d.inCorpDetail || "Alamat Perusahaan Lengkap";
            document.getElementById('dispNama').innerText = d.inNama || "NAMA LENGKAP";
            document.getElementById('dispJabatan').innerText = d.inJabatan || "JABATAN";
            
            document.getElementById('dispWA1').innerText = d.inWA1 || "-";
            document.getElementById('dispWA2').innerText = d.inWA2 || "-";
            document.getElementById('dispEmail').innerText = d.inEmail || "-";
            document.getElementById('dispWeb').innerText = d.inWeb || "-";
            document.getElementById('dispIG').innerText = d.inIG || "-";
            document.getElementById('dispLI').innerText = d.inLI || "-";
            document.getElementById('dispFB').innerText = d.inFB || "-";
            document.getElementById('dispTT').innerText = d.inTT || "-";

            const color = d.inColor;
            document.getElementById('headerBg').style.backgroundColor = color;
            document.getElementById('dispJabatan').style.color = color;

            const qrBox = document.getElementById("qrcode");
            qrBox.innerHTML = "";
            new QRCode(qrBox, { text: d.inWeb || `https://wa.me/${d.inWA1}`, width: 110, height: 110, colorDark: color });
        }

        async function saveCardHD() {
            const element = document.getElementById('card-area');
            const canvas = await html2canvas(element, { 
                scale: 5, useCORS: true, backgroundColor: "#ffffff"
            });
            const link = document.createElement('a');
            link.download = `BusinessCard_Premium_v11.png`;
            link.href = canvas.toDataURL("image/png", 1.0);
            link.click();
        }

        function downloadVCard() {
            const d = {};
            inputs.forEach(id => d[id] = document.getElementById(id).value);
            const vcard = `BEGIN:VCARD\nVERSION:3.0\nFN:${d.inNama}\nORG:${d.inCorp}\nTITLE:${d.inJabatan}\nTEL;TYPE=CELL:${d.inWA1}\nTEL;TYPE=WORK:${d.inWA2}\nEMAIL:${d.inEmail}\nURL:${d.inWeb}\nNOTE:IG:${d.inIG}, LI:${d.inLI}\nEND:VCARD`;
            const blob = new Blob([vcard], { type: "text/vcard" });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${d.inNama}.vcf`;
            a.click();
        }

        function shareWhatsApp() {
            const nama = document.getElementById('inNama').value;
            const text = `Halo, perkenalkan saya ${nama}. Berikut kartu nama digital saya: ${document.getElementById('inWeb').value}`;
            window.open(`https://wa.me/?text=${encodeURIComponent(text)}`, '_blank');
        }
    </script>
</body>
</html>
